{"ast":null,"code":"var _jsxFileName = \"/home/alexkhan/Documents/meet-friends/frontend/src/components/directMessages/directMessages.js\";\nimport React, { Component } from 'react';\nimport { Menu, Icon } from \"semantic-ui-react\";\nimport firebase from \"../../Auth/firebase\";\n\nclass directMessages extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: this.props.user,\n      userRef: firebase.database().ref('users'),\n      connectedRef: firebase.database().ref('.info/connected')\n    };\n\n    this.addListeners = currentUserUid => {\n      const {\n        userRef,\n        user,\n        connectedRef\n      } = this.state;\n      let loadedUsers = [];\n      userRef.on('child_added', snap => {\n        let user = snap.val();\n        user['uid'] = snap.key;\n        user['status'] = 'offline';\n        loadedUsers.push(user);\n        this.setState({\n          users: loadedUsers\n        });\n      });\n      connectedRef.on(\"value\");\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.user) {\n      this.addListeners(this.state.user.userId);\n    }\n  }\n\n  render() {\n    const {\n      users\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Menu.Menu, {\n      className: \"menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"mail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    }), \"DIRECT MESSAGES\"), \" \");\n  }\n\n}\n\nexport default directMessages;","map":{"version":3,"sources":["/home/alexkhan/Documents/meet-friends/frontend/src/components/directMessages/directMessages.js"],"names":["React","Component","Menu","Icon","firebase","directMessages","state","users","props","user","userRef","database","ref","connectedRef","addListeners","currentUserUid","loadedUsers","on","snap","val","key","push","setState","componentDidMount","userId","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,IAAR,EAAaC,IAAb,QAAwB,mBAAxB;AACA,OAAOC,QAAP,MAAqB,qBAArB;;AACA,MAAMC,cAAN,SAA6BJ,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAEnCK,KAFmC,GAE3B;AACJC,MAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWC,IADd;AAEJC,MAAAA,OAAO,EAAEN,QAAQ,CAACO,QAAT,GAAoBC,GAApB,CAAwB,OAAxB,CAFL;AAGJC,MAAAA,YAAY,EAACT,QAAQ,CAACO,QAAT,GAAoBC,GAApB,CAAwB,iBAAxB;AAHT,KAF2B;;AAAA,SAanCE,YAbmC,GAanBC,cAAD,IAAoB;AAC/B,YAAM;AAACL,QAAAA,OAAD;AAASD,QAAAA,IAAT;AAAcI,QAAAA;AAAd,UAA8B,KAAKP,KAAzC;AACA,UAAIU,WAAW,GAAG,EAAlB;AACAN,MAAAA,OAAO,CAACO,EAAR,CAAW,aAAX,EAA0BC,IAAI,IAAG;AAC7B,YAAIT,IAAI,GAAGS,IAAI,CAACC,GAAL,EAAX;AACAV,QAAAA,IAAI,CAAC,KAAD,CAAJ,GAAcS,IAAI,CAACE,GAAnB;AACAX,QAAAA,IAAI,CAAC,QAAD,CAAJ,GAAiB,SAAjB;AACAO,QAAAA,WAAW,CAACK,IAAZ,CAAiBZ,IAAjB;AACA,aAAKa,QAAL,CAAc;AAACf,UAAAA,KAAK,EAAES;AAAR,SAAd;AACH,OAND;AAOAH,MAAAA,YAAY,CAACI,EAAb,CAAgB,OAAhB;AACH,KAxBkC;AAAA;;AAQnCM,EAAAA,iBAAiB,GAAI;AACjB,QAAG,KAAKjB,KAAL,CAAWG,IAAd,EAAmB;AACf,WAAKK,YAAL,CAAkB,KAAKR,KAAL,CAAWG,IAAX,CAAgBe,MAAlC;AACH;AACJ;;AAcDC,EAAAA,MAAM,GAAG;AAEL,UAAM;AAAElB,MAAAA;AAAF,QAAY,KAAKD,KAAvB;AAGA,wBACI,oBAAC,IAAD,CAAM,IAAN;AAAW,MAAA,SAAS,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,IAAD;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,oBADJ,EAGY,GAHZ,CADJ;AASH;;AAxCkC;;AA2CvC,eAAeD,cAAf","sourcesContent":["import React, { Component } from 'react'\nimport {Menu,Icon} from \"semantic-ui-react\"\nimport firebase from \"../../Auth/firebase\"\nclass directMessages extends Component {\n\n    state = {\n        users: this.props.user,\n        userRef: firebase.database().ref('users'),\n        connectedRef:firebase.database().ref('.info/connected')\n    }\n\n    componentDidMount () {\n        if(this.state.user){\n            this.addListeners(this.state.user.userId)\n        }\n    }\n    addListeners = (currentUserUid) => {\n        const {userRef,user,connectedRef} = this.state\n        let loadedUsers = []\n        userRef.on('child_added', snap=> {\n            let user = snap.val()\n            user['uid'] = snap.key\n            user['status'] = 'offline'\n            loadedUsers.push(user)\n            this.setState({users: loadedUsers})\n        })\n        connectedRef.on(\"value\")\n    }\n\n    render() {\n\n        const { users } = this.state\n\n\n        return (\n            <Menu.Menu className=\"menu\">\n                <span>\n                <Icon  name=\"mail\" />DIRECT MESSAGES\n                </span>{\" \"}\n                {/* ({users.length }) */}\n\n            </Menu.Menu>\n            )\n    }\n}\n\nexport default directMessages\n"]},"metadata":{},"sourceType":"module"}